<!doctype html>
<html lang="kr">
<head>
    <meta charset="utf-8" />
	<title></title>
    <style type="text/css">
        #drop_zone { border:2px dashed #bbb; border-radius:5px; padding:25px; text-align:center; color:#bbb; }
    </style>
    <script src="https://code.jquery.com/jquery-3.3.1.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script>
    <script type="text/javascript">
        $(function () {
            console.log("ee");

            // $.getJSON("sample.json", function(json) {
            //     console.log(json);
            // });
        });

        window.onload = function () {
            // Setup the dnd listeners.
            var dropZone = document.getElementById('drop_zone');
            dropZone.addEventListener('dragover', handleDragOver, false);
            dropZone.addEventListener('drop', handleFileSelect, false);
        }

        function handleDragOver(evt) {
            evt.stopPropagation();
            evt.preventDefault();

            // Explicitly show this is a copy.
            evt.dataTransfer.dropEffect = 'copy';
        }
        function handleFileSelect(evt) {
            // Check for the various File API support.
            if (!window.File && !window.FileReader && !window.FileList && !window.Blob) {
                alert('The File APIs are not fully supported in this browser.');
                return false;
            }

            evt.stopPropagation();
            evt.preventDefault();

            // FileList object.
            var json_file = evt.dataTransfer.files[0]; 

            // Only process json files.
            if (json_file.type != 'application/json') {
                alert('Only support json file.');
                return false;
            }

            // Read in data as a text string.
            var reader = new FileReader();
            reader.onload = function (eve) {
                let text = eve.target.result;
                var json_obj = JSON.parse(text);
                randerMemeList(json_obj);
            };
            reader.readAsText(json_file);
        }
        function randerMemeList(json_obj) {
            console.log(json_obj);
        }

        
	</script>
</head>
<body>
    <div id="drop_zone">Drop files here</div>
	initializing...
</body>
</html>